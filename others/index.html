<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./assets/logo.png" />
    <title>Tic Tac Toe</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500..700&display=swap" rel="stylesheet">
    <link href="./index.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div id="root">
        <div class="Main">
            <div class="scene">
                <div class="ui">
                    <div class="player-score"></div>
                    <div id="interactive-hint"></div>
                    <div class="player-score"></div>
                </div>

                <div id="App">
                    <div id="Lobby">
                        <div class="screen">
                            <div class="title">Game Mode</div>

                            <div class="screen-content">
                                <div class="radio-group">
                                    <input type="radio" class="hidden" name="gameMode" value="PvP" id="radio-pvp" checked>
                                    <label class="radio-block" for="radio-pvp">
                                        <div class="radio-title">PvP</div>
                                        <div class="radio-subtitle">Play 1v1 on one device</div>
                                    </label>
    
                                    <input type="radio" class="hidden" name="gameMode" value="PvA" id="radio-pva">
                                    <label class="radio-block" for="radio-pva">
                                        <div class="radio-title">AI</div>
                                        <div class="radio-subtitle">Play versus AI</div>
                                    </label>
                                </div>
                            </div>

                            <div class="actions">
                                <button onclick="Ui.selectMode()">Continue</button>
                            </div>
                        </div>

                        <div class="screen"></div>
                    </div>

                    <div id="Field">
                        <canvas id="main-canvas">Please update your browser!</canvas>
    
                        <div id="tiles"></div>
    
                        <div class="vector horizontal" style="top: 33.33%"></div>
                        <div class="vector horizontal" style="top: 66.66%"></div>
                        <div class="vector vertical" style="left: 33.33%"></div>
                        <div class="vector vertical" style="left: 66.66%"></div>
                    </div>
                </div>
                
                <div class="ui"></div>
            </div>
        </div>

        <div class="backdrop">
            <div class="logo">
                <img src="./assets/logo.png" async alt="Tic Tac Toe" />
            </div>

            <div id="mountains">
                <canvas id="backdrop-canvas"></canvas>
            </div>
        </div>
    </div>
    
    <script src="./js/util.js"></script>
    <script src="./js/backdrop.js"></script>
    <script src="./js/models.js"></script>
    <script src="./js/index.js" defer></script>

    <script defer>
        const assembler = {
            mode: "PvP",
            participants: [],

            createGame() {

            }
        }

        class Ui {
            static toggleLobby() {
                document.documentElement.classList.toggle("lobby-inactive");
            }

            static selectMode() {
                const input = document.querySelector("input[name='gameMode']:checked");

                if (!input) return;

                assembler.mode = input.value;

                Ui.toggleLobby();
            }
        }
    </script>
</body>
</html>